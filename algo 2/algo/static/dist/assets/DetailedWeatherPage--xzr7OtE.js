import{c as W,o as S,j as e,B as c,L as m,C as l,q as i,s as n,t as x}from"./index-DF6BEUun.js";import{B as _}from"./badge-Bpc-iUD6.js";import{u as z,D,W as u,C as d,S as T,a as N,Z as B}from"./useWeather-Dx9ifyd1.js";import{C as r}from"./cloud-sun-CzR2ugJt.js";import{A as o}from"./arrow-left-8Q1IB9i5.js";import{T as p,C as E}from"./thermometer-SNSVNoDD.js";import{C as H}from"./clock-B6HL2XHe.js";import{f as b,e as k}from"./format-BUWdp_x2.js";import{C as L}from"./calendar-days-94hTQ2jz.js";import"./useQuery-B9rE_mUz.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=W("SunDim",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M20 12h.01",key:"1ykeid"}],["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M4 12h.01",key:"158zrr"}],["path",{d:"M17.657 6.343h.01",key:"31pqzk"}],["path",{d:"M17.657 17.657h.01",key:"jehnf4"}],["path",{d:"M6.343 17.657h.01",key:"gdk6ow"}],["path",{d:"M6.343 6.343h.01",key:"1uurf0"}]]),Q=()=>{const{isWeatherFeatureEnabled:g}=S(),{data:t,isLoading:w,error:j}=z("Torino",g),h=s=>s===0?e.jsx(T,{className:"h-6 w-6 text-yellow-500"}):s>=1&&s<=3?e.jsx(r,{className:"h-6 w-6 text-yellow-500"}):s>=45&&s<=48?e.jsx(E,{className:"h-6 w-6 text-gray-500"}):s>=51&&s<=57?e.jsx(d,{className:"h-6 w-6 text-blue-500"}):s>=61&&s<=67?e.jsx(d,{className:"h-6 w-6 text-blue-500"}):s>=71&&s<=77?e.jsx(N,{className:"h-6 w-6 text-blue-300"}):s>=80&&s<=82?e.jsx(d,{className:"h-6 w-6 text-blue-500"}):s>=85&&s<=86?e.jsx(N,{className:"h-6 w-6 text-blue-300"}):s>=95&&s<=99?e.jsx(B,{className:"h-6 w-6 text-yellow-400"}):e.jsx(r,{className:"h-6 w-6 text-gray-500"}),f=s=>s===0?"Clear sky":s===1?"Mainly clear":s===2?"Partly cloudy":s===3?"Overcast":s>=45&&s<=48?"Fog":s>=51&&s<=55?"Drizzle":s>=56&&s<=57?"Freezing Drizzle":s>=61&&s<=65?"Rain":s>=66&&s<=67?"Freezing Rain":s>=71&&s<=75?"Snow fall":s===77?"Snow grains":s>=80&&s<=82?"Rain showers":s>=85&&s<=86?"Snow showers":s>=95&&s<=99?"Thunderstorm":"N/A";if(!g)return e.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900 p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 flex items-center",children:[e.jsx(r,{className:"h-8 w-8 mr-3 text-gray-500"}),"Torino Weather Forecast"]}),e.jsx(c,{asChild:!0,variant:"outline",children:e.jsxs(m,{to:"/torino-dashboard",className:"flex items-center",children:[e.jsx(o,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})})]}),e.jsx("main",{className:"flex-1 flex items-center justify-center",children:e.jsxs(l,{className:"bg-white dark:bg-gray-800 shadow-lg max-w-md w-full",children:[e.jsx(i,{children:e.jsxs(n,{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 flex items-center",children:[e.jsx(r,{className:"h-5 w-5 mr-2 text-gray-500"}),"Weather Feature Disabled"]})}),e.jsx(x,{className:"space-y-3 text-gray-700 dark:text-gray-300",children:e.jsx("p",{children:"The weather forecast feature is currently disabled. Enable it in Settings to view weather data."})})]})})]});if(w)return e.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900 p-4 md:p-6 items-center justify-center",children:[e.jsx(r,{className:"h-12 w-12 mr-3 text-indigo-600 animate-spin"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mt-4",children:"Loading Weather Forecast..."})]});if(j)return e.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900 p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 flex items-center",children:[e.jsx(r,{className:"h-8 w-8 mr-3 text-indigo-600"}),"Torino Weather Forecast"]}),e.jsx(c,{asChild:!0,variant:"outline",children:e.jsxs(m,{to:"/torino-dashboard",className:"flex items-center",children:[e.jsx(o,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})})]}),e.jsx("main",{className:"flex-1 flex items-center justify-center",children:e.jsxs(l,{className:"bg-white dark:bg-gray-800 shadow-lg border-red-500 max-w-md w-full",children:[e.jsx(i,{children:e.jsxs(n,{className:"text-xl font-semibold text-red-500 flex items-center",children:[e.jsx(p,{className:"h-5 w-5 mr-2"}),"Weather Error"]})}),e.jsxs(x,{className:"space-y-3 text-gray-700 dark:text-gray-300",children:[e.jsxs("p",{children:["Failed to load weather data: ",j.message]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Please ensure your internet connection is stable."})]})]})})]});if(!t||!t.current||!t.hourly||!t.daily)return e.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900 p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 flex items-center",children:[e.jsx(r,{className:"h-8 w-8 mr-3 text-indigo-600"}),"Torino Weather Forecast"]}),e.jsx(c,{asChild:!0,variant:"outline",children:e.jsxs(m,{to:"/torino-dashboard",className:"flex items-center",children:[e.jsx(o,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})})]}),e.jsx("main",{className:"flex-1 flex items-center justify-center",children:e.jsxs(l,{className:"bg-white dark:bg-gray-800 shadow-lg max-w-md w-full",children:[e.jsx(i,{children:e.jsxs(n,{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 flex items-center",children:[e.jsx(r,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Weather Data Not Available"]})}),e.jsx(x,{className:"space-y-3 text-gray-700 dark:text-gray-300",children:e.jsx("p",{children:"No weather data could be loaded at this time."})})]})})]});const y=t.current.weathercode,v=f(y),C=new Date,M=t.hourly.time.map((s,a)=>({time:s,temperature:t.hourly.temperature_2m[a],rain:t.hourly.rain[a]})).filter(s=>s.time>=C).slice(0,24),F=t.daily.time.map((s,a)=>({date:s,weathercode:t.daily.weathercode[a],tempMax:t.daily.temperature_2m_max[a],tempMin:t.daily.temperature_2m_min[a],precipitation:t.daily.precipitation_sum[a],windSpeedMax:t.daily.windspeed_10m_max[a],uvIndexMax:t.daily.uv_index_max[a]}));return e.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900 p-4 md:p-6",children:[e.jsxs("header",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 flex items-center",children:[e.jsx(r,{className:"h-8 w-8 mr-3 text-indigo-600"}),"Torino Weather Forecast"]}),e.jsx(c,{asChild:!0,variant:"outline",children:e.jsxs(m,{to:"/torino-dashboard",className:"flex items-center",children:[e.jsx(o,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})})]}),e.jsxs("main",{className:"flex-1 max-w-6xl mx-auto w-full space-y-8",children:[e.jsxs(l,{className:"bg-white dark:bg-gray-800 shadow-lg",children:[e.jsx(i,{children:e.jsxs(n,{className:"text-xl font-semibold flex items-center",children:[e.jsx(p,{className:"h-5 w-5 mr-2 text-red-600"}),"Current Weather in ",t.city]})}),e.jsxs(x,{className:"space-y-4 text-gray-700 dark:text-gray-300",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[h(y),e.jsxs("span",{className:"text-5xl font-bold",children:[Math.round(t.current.temperature_2m),"째C"]})]}),e.jsx(_,{className:"text-lg px-4 py-2 capitalize",children:v})]}),e.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:[t.city,", ",t.country]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(D,{className:"h-5 w-5 mr-2 text-blue-500"}),e.jsxs("span",{children:["Humidity: ",t.current.relativehumidity_2m,"%"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(u,{className:"h-5 w-5 mr-2 text-gray-500"}),e.jsxs("span",{children:["Wind Speed: ",t.current.windspeed_10m.toFixed(1)," m/s"]})]})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"*Data provided by Open-Meteo."})]})]}),e.jsxs(l,{className:"bg-white dark:bg-gray-800 shadow-lg",children:[e.jsx(i,{children:e.jsxs(n,{className:"text-xl font-semibold flex items-center",children:[e.jsx(H,{className:"h-5 w-5 mr-2 text-blue-600"}),"Hourly Forecast (Next 24 Hours)"]})}),e.jsx(x,{className:"overflow-x-auto",children:e.jsx("div",{className:"flex space-x-4 pb-2",children:M.map((s,a)=>e.jsxs("div",{className:"flex-shrink-0 text-center p-3 border rounded-lg dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50",children:[e.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-100",children:b(s.time,"HH:mm",{locale:k})}),e.jsx("div",{className:"my-2",children:h(t.current.weathercode)})," ",e.jsxs("p",{className:"text-lg font-bold text-gray-800 dark:text-gray-100",children:[Math.round(s.temperature),"째C"]}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Rain: ",s.rain.toFixed(1)," mm"]})]},a))})})]}),e.jsxs(l,{className:"bg-white dark:bg-gray-800 shadow-lg",children:[e.jsx(i,{children:e.jsxs(n,{className:"text-xl font-semibold flex items-center",children:[e.jsx(L,{className:"h-5 w-5 mr-2 text-green-600"}),"Daily Forecast (7 Days)"]})}),e.jsx(x,{className:"space-y-4",children:F.map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between border-b last:border-b-0 pb-3 pt-2",children:[e.jsxs("div",{className:"flex items-center space-x-3 w-1/3",children:[h(s.weathercode),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-100",children:b(s.date,"EEEE, dd MMM",{locale:k})}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:f(s.weathercode)})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 w-2/3 justify-end",children:[e.jsxs("span",{className:"text-lg font-bold text-gray-800 dark:text-gray-100",children:[Math.round(s.tempMax),"째C / ",Math.round(s.tempMin),"째C"]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-700 dark:text-gray-300",children:[e.jsx(d,{className:"h-4 w-4 mr-1 text-blue-500"})," ",s.precipitation.toFixed(1)," mm"]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-700 dark:text-gray-300",children:[e.jsx(u,{className:"h-4 w-4 mr-1 text-gray-500"})," ",s.windSpeedMax.toFixed(1)," m/s"]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-700 dark:text-gray-300",children:[e.jsx(R,{className:"h-4 w-4 mr-1 text-yellow-500"})," ",s.uvIndexMax.toFixed(0)]})]})]},a))})]})]})]})};export{Q as default};
